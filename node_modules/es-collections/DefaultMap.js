"use strict";

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _get = require("babel-runtime/helpers/get")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol = require("babel-runtime/core-js/symbol")["default"];

var _Map2 = require("babel-runtime/core-js/map")["default"];

Object.defineProperty(exports, "__esModule", {
    value: true
});
var data = _Symbol("data");

// extending built-in classes does not work in babel

var _default = (function (_Map) {
    var _class = function _default(def, iterable) {
        _classCallCheck(this, _class);

        _get(Object.getPrototypeOf(_class.prototype), "constructor", this).call(this, iterable);
        if (def === undefined) {
            throw new Error("DefaultMap: no default defined");
        }
        this[data] = def;
    };

    _inherits(_class, _Map);

    _createClass(_class, [{
        key: "get",
        value: function get(key) {
            if (!this.has(key)) {
                return this[data];
            }
            return _get(Object.getPrototypeOf(_class.prototype), "get", this).call(this, key);
        }
    }, {
        key: "default",
        get: function get() {
            return this[data];
        }
    }]);

    return _class;
})(_Map2);

exports["default"] = _default;
module.exports = exports["default"];